import{_ as s,c as i,b as a,o as e}from"./app-GpZKBnvo.js";const l={};function n(h,t){return e(),i("div",null,t[0]||(t[0]=[a(`<h2 id="ğŸ“˜-æ¦‚è¿°-benchdatasetevaluator" tabindex="-1"><a class="header-anchor" href="#ğŸ“˜-æ¦‚è¿°-benchdatasetevaluator"><span>ğŸ“˜ æ¦‚è¿° <a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/evaluator/bench_dataset_evaluator.py" target="_blank" rel="noopener noreferrer">BenchDatasetEvaluator</a></span></a></h2><p>è¯¥ç®—å­ç”¨äºå¯¹æ¯”é¢„æµ‹ç­”æ¡ˆä¸æ ‡å‡†ç­”æ¡ˆçš„åŒ¹é…åº¦ï¼Œæ”¯æŒä¸¤ç§è¯„ä¼°æ¨¡å¼ï¼š</p><ol><li>å­—ç¬¦ä¸²åŒ¹é…ï¼ˆmatchï¼‰ï¼šä½¿ç”¨æ•°å­¦éªŒè¯æ–¹æ³•æ¯”è¾ƒç­”æ¡ˆï¼Œé€‚ç”¨äºæœ‰æ˜ç¡®ç­”æ¡ˆçš„é—®é¢˜</li><li>è¯­ä¹‰åŒ¹é…ï¼ˆsemanticï¼‰ï¼šä½¿ç”¨LLMè¯„ä¼°ç­”æ¡ˆçš„è¯­ä¹‰ç›¸ä¼¼åº¦ï¼Œé€‚ç”¨äºå¼€æ”¾æ€§é—®é¢˜</li></ol><p>è¾“å…¥å‚æ•°ï¼š</p><ul><li>input_test_answer_keyï¼šé¢„æµ‹ç­”æ¡ˆå­—æ®µå</li><li>input_gt_answer_keyï¼šæ ‡å‡†ç­”æ¡ˆå­—æ®µå</li><li>input_question_keyï¼šé—®é¢˜å­—æ®µåï¼ˆè¯­ä¹‰åŒ¹é…æ¨¡å¼ä¸‹å¿…éœ€ï¼‰</li><li>compare_methodï¼šæ¯”è¾ƒæ–¹æ³•ï¼ˆmatch/semanticï¼‰</li></ul><p>è¾“å‡ºå‚æ•°ï¼š</p><ul><li>answer_match_resultï¼šåŒ¹é…ç»“æœï¼ˆTrue/Falseï¼‰</li><li>ç»Ÿè®¡ç»“æœå°†ä¿å­˜åˆ°æŒ‡å®šçš„eval_result_pathè·¯å¾„</li></ul><h2 id="init-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#init-å‡½æ•°"><span>__init__å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            eval_result_path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            compare_method</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Literal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">match</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">semantic</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">match</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            system_prompt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">You are a helpful assistant specialized in evaluating answer correctness.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> LLMServingABC </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            prompt_template </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            ):</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="initå‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#initå‚æ•°è¯´æ˜"><span>initå‚æ•°è¯´æ˜</span></a></h3><table><thead><tr><th style="text-align:left;">å‚æ•°å</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>eval_result_path</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">None</td><td style="text-align:left;">è¯„ä¼°ç»“æœçš„ä¿å­˜è·¯å¾„ã€‚è‹¥ä¸æŒ‡å®šï¼Œåˆ™è‡ªåŠ¨ç”Ÿæˆå¸¦æœ‰æ—¶é—´æˆ³çš„æ–‡ä»¶åã€‚</td></tr><tr><td style="text-align:left;"><strong>compare_method</strong></td><td style="text-align:left;">Literal[&quot;match&quot;, &quot;semantic&quot;]</td><td style="text-align:left;">&quot;match&quot;</td><td style="text-align:left;">è¯„ä¼°æ–¹æ³•ï¼Œ&#39;match&#39;è¡¨ç¤ºå­—ç¬¦ä¸²ç²¾ç¡®åŒ¹é…ï¼ˆé€‚ç”¨äºæ•°å­¦ç­‰ï¼‰ï¼Œ&#39;semantic&#39;è¡¨ç¤ºä½¿ç”¨LLMè¿›è¡Œè¯­ä¹‰ç›¸ä¼¼åº¦åŒ¹é…ã€‚</td></tr><tr><td style="text-align:left;"><strong>system_prompt</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;You are a helpful assistant specialized in evaluating answer correctness.&quot;</td><td style="text-align:left;">å½“ä½¿ç”¨&#39;semantic&#39;è¯„ä¼°æ–¹æ³•æ—¶ï¼Œä¼ é€’ç»™LLMçš„ç³»ç»Ÿæç¤ºè¯ã€‚</td></tr><tr><td style="text-align:left;"><strong>llm_serving</strong></td><td style="text-align:left;">LLMServingABC</td><td style="text-align:left;">None</td><td style="text-align:left;">å¤§è¯­è¨€æ¨¡å‹æœåŠ¡å®ä¾‹ï¼Œå½“ <code>compare_method</code> ä¸º &#39;semantic&#39; æ—¶å¿…éœ€ã€‚</td></tr><tr><td style="text-align:left;"><strong>prompt_template</strong></td><td style="text-align:left;">PromptABC</td><td style="text-align:left;">None</td><td style="text-align:left;">æç¤ºè¯æ¨¡æ¿å¯¹è±¡ï¼Œå½“ <code>compare_method</code> ä¸º &#39;semantic&#39; æ—¶ä½¿ç”¨ã€‚è‹¥ä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸º <code>AnswerJudgePrompt</code>ã€‚</td></tr></tbody></table><h3 id="promptæ¨¡æ¿è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#promptæ¨¡æ¿è¯´æ˜"><span>Promptæ¨¡æ¿è¯´æ˜</span></a></h3><h2 id="runå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#runå‡½æ•°"><span>runå‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DataFlowStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        input_test_answer_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">generated_cot</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        input_gt_answer_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">golden_answer</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        input_question_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‚æ•°"><span>å‚æ•°</span></a></h4><table><thead><tr><th style="text-align:left;">åç§°</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>storage</strong></td><td style="text-align:left;">DataFlowStorage</td><td style="text-align:left;">å¿…éœ€</td><td style="text-align:left;">æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚</td></tr><tr><td style="text-align:left;"><strong>input_test_answer_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;generated_cot&quot;</td><td style="text-align:left;">è¾“å…¥åˆ—åï¼Œå¯¹åº”å¾…è¯„ä¼°çš„ç­”æ¡ˆå­—æ®µã€‚</td></tr><tr><td style="text-align:left;"><strong>input_gt_answer_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;golden_answer&quot;</td><td style="text-align:left;">è¾“å…¥åˆ—åï¼Œå¯¹åº”æ ‡å‡†ç­”æ¡ˆï¼ˆground truthï¼‰å­—æ®µã€‚</td></tr><tr><td style="text-align:left;"><strong>input_question_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">None</td><td style="text-align:left;">è¾“å…¥åˆ—åï¼Œå¯¹åº”é—®é¢˜å­—æ®µã€‚å½“ <code>compare_method</code> ä¸º&#39;semantic&#39;æ—¶å¿…éœ€ã€‚</td></tr></tbody></table><h2 id="ğŸ§ -ç¤ºä¾‹ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -ç¤ºä¾‹ç”¨æ³•"><span>ğŸ§  ç¤ºä¾‹ç”¨æ³•</span></a></h2>`,17)]))}const d=s(l,[["render",n]]),p=JSON.parse('{"path":"/zh/api/operators/core_text/eval/benchdatasetevaluator/","title":"BenchDatasetEvaluator","lang":"zh-CN","frontmatter":{"title":"BenchDatasetEvaluator","createTime":"2025/10/09 17:09:04","permalink":"/zh/api/operators/core_text/eval/benchdatasetevaluator/"},"readingTime":{"minutes":1.67,"words":502},"git":{"createdTime":1760001305000,"updatedTime":1760001305000,"contributors":[{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"}]},"filePathRelative":"zh/notes/api/operators/core_text/eval/BenchDatasetEvaluator.md","headers":[]}');export{d as comp,p as data};
