import{_ as s,c as i,b as a,o as e}from"./app-GpZKBnvo.js";const l={};function n(h,t){return e(),i("div",null,t[0]||(t[0]=[a(`<h2 id="ğŸ“˜-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“˜-æ¦‚è¿°"><span>ğŸ“˜ æ¦‚è¿°</span></a></h2><p><code>DeitaComplexityFilter</code> æ˜¯ä¸€ä¸ªæ•°æ®ç­›é€‰ç®—å­ï¼Œå®ƒä½¿ç”¨ Deita æŒ‡ä»¤å¤æ‚æ€§è¯„ä¼°å™¨å¯¹æ•°æ®è¿›è¡Œè¯„åˆ†ï¼Œå¹¶æ ¹æ®è®¾å®šçš„åˆ†æ•°é˜ˆå€¼ï¼ˆ<code>min_score</code>, <code>max_score</code>ï¼‰æ¥è¿‡æ»¤æ•°æ®ã€‚è¯¥ç®—å­æ—¨åœ¨ä¿ç•™æŒ‡å®šå¤æ‚æ€§èŒƒå›´å†…çš„æ•°æ®æ ·æœ¬ã€‚</p><h2 id="init-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#init-å‡½æ•°"><span><code>__init__</code>å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> min_score</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> max_score</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> device</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cuda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> model_cache_dir</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./dataflow_cache</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> max_length</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">512</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="initå‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#initå‚æ•°è¯´æ˜"><span>initå‚æ•°è¯´æ˜</span></a></h3><table><thead><tr><th style="text-align:left;">å‚æ•°å</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>min_score</strong></td><td style="text-align:left;">float</td><td style="text-align:left;">3.0</td><td style="text-align:left;">æœ€ä½åˆ†æ•°é˜ˆå€¼ï¼Œä½äºæ­¤åˆ†æ•°çš„æ•°æ®å°†è¢«è¿‡æ»¤ã€‚</td></tr><tr><td style="text-align:left;"><strong>max_score</strong></td><td style="text-align:left;">float</td><td style="text-align:left;">5.0</td><td style="text-align:left;">æœ€é«˜åˆ†æ•°é˜ˆå€¼ï¼Œé«˜äºæ­¤åˆ†æ•°çš„æ•°æ®å°†è¢«è¿‡æ»¤ã€‚</td></tr><tr><td style="text-align:left;"><strong>device</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&#39;cuda&#39;</td><td style="text-align:left;">æ¨¡å‹è¿è¡Œçš„è®¾å¤‡ï¼ˆå¦‚ &#39;cuda&#39; æˆ– &#39;cpu&#39;ï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><strong>model_cache_dir</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&#39;./dataflow_cache&#39;</td><td style="text-align:left;">ç”¨äºå­˜å‚¨ä¸‹è½½çš„Deitaæ¨¡å‹çš„ç¼“å­˜ç›®å½•ã€‚</td></tr><tr><td style="text-align:left;"><strong>max_length</strong></td><td style="text-align:left;">int</td><td style="text-align:left;">512</td><td style="text-align:left;">æ¨¡å‹å¤„ç†è¾“å…¥æ–‡æœ¬æ—¶çš„æœ€å¤§åºåˆ—é•¿åº¦ã€‚</td></tr></tbody></table><h3 id="promptæ¨¡æ¿è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#promptæ¨¡æ¿è¯´æ˜"><span>Promptæ¨¡æ¿è¯´æ˜</span></a></h3><h2 id="runå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#runå‡½æ•°"><span><code>run</code>å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> DataFlowStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> input_instruction_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">instruction</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> input_output_key </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">output</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> output_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DeitaComplexityScore</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ‰§è¡Œç®—å­ä¸»é€»è¾‘ï¼Œä»å­˜å‚¨ä¸­è¯»å–è¾“å…¥ DataFrameï¼Œè®¡ç®—æ¯æ¡æ•°æ®çš„å¤æ‚æ€§å¾—åˆ†ï¼Œå¹¶æ ¹æ® <code>min_score</code> å’Œ <code>max_score</code> è¿‡æ»¤æ•°æ®ï¼Œæœ€åå°†å¸¦æœ‰å¾—åˆ†çš„ã€è¢«ç­›é€‰åçš„æ•°æ®å†™å›å­˜å‚¨ã€‚</p><h4 id="å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‚æ•°"><span>å‚æ•°</span></a></h4><table><thead><tr><th style="text-align:left;">åç§°</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>storage</strong></td><td style="text-align:left;">DataFlowStorage</td><td style="text-align:left;">å¿…éœ€</td><td style="text-align:left;">æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚</td></tr><tr><td style="text-align:left;"><strong>input_instruction_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;instruction&quot;</td><td style="text-align:left;">è¾“å…¥åˆ—åï¼Œå¯¹åº”æŒ‡ä»¤æˆ–é—®é¢˜å­—æ®µã€‚</td></tr><tr><td style="text-align:left;"><strong>input_output_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;output&quot;</td><td style="text-align:left;">è¾“å…¥åˆ—åï¼Œå¯¹åº”è¾“å‡ºæˆ–ç­”æ¡ˆå­—æ®µã€‚</td></tr><tr><td style="text-align:left;"><strong>output_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;DeitaComplexityScore&quot;</td><td style="text-align:left;">è¾“å‡ºåˆ—åï¼Œç”¨äºå­˜å‚¨è®¡ç®—å‡ºçš„å¤æ‚æ€§å¾—åˆ†ã€‚</td></tr></tbody></table><h2 id="ğŸ§ -ç¤ºä¾‹ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -ç¤ºä¾‹ç”¨æ³•"><span>ğŸ§  ç¤ºä¾‹ç”¨æ³•</span></a></h2><h4 id="ğŸ§¾-é»˜è®¤è¾“å‡ºæ ¼å¼-output-format" tabindex="-1"><a class="header-anchor" href="#ğŸ§¾-é»˜è®¤è¾“å‡ºæ ¼å¼-output-format"><span>ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰</span></a></h4><p>è¯¥ç®—å­ä¼šä¸ºè¾“å…¥çš„æ¯ä¸€è¡Œæ•°æ®æ–°å¢ä¸€ä¸ªå¾—åˆ†åˆ—ï¼ˆåˆ—åç”± <code>output_key</code> å‚æ•°æŒ‡å®šï¼‰ï¼Œç„¶åæ ¹æ®å¾—åˆ†èŒƒå›´è¿›è¡Œè¿‡æ»¤ã€‚</p><table><thead><tr><th style="text-align:left;">å­—æ®µ</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;">instruction</td><td style="text-align:left;">str</td><td style="text-align:left;">è¾“å…¥çš„æŒ‡ä»¤æ–‡æœ¬ã€‚</td></tr><tr><td style="text-align:left;">output</td><td style="text-align:left;">str</td><td style="text-align:left;">è¾“å…¥çš„è¾“å‡ºæ–‡æœ¬ã€‚</td></tr><tr><td style="text-align:left;">DeitaComplexityScore</td><td style="text-align:left;">float</td><td style="text-align:left;">æ¨¡å‹ç”Ÿæˆçš„æŒ‡ä»¤å¤æ‚æ€§å¾—åˆ†ã€‚</td></tr></tbody></table><p>ç¤ºä¾‹è¾“å…¥ï¼š</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">instruction</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">è¯·è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯é»‘æ´ï¼Œå¹¶è¯´æ˜å®ƒçš„ä¸»è¦ç‰¹æ€§ã€‚</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">output</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">é»‘æ´æ˜¯æ—¶ç©ºçš„ä¸€ä¸ªåŒºåŸŸï¼Œå…¶å¼•åŠ›åœºéå¸¸å¼ºå¤§ï¼Œä»¥è‡³äºä»»ä½•ç‰©è´¨å’Œè¾å°„ï¼ˆåŒ…æ‹¬å…‰ï¼‰éƒ½æ— æ³•é€ƒé€¸ã€‚å®ƒçš„ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š1. äº‹ä»¶è§†ç•Œï¼šé»‘æ´çš„è¾¹ç•Œï¼Œä¸€æ—¦è¶Šè¿‡å°±æ— æ³•è¿”å›ã€‚2. å¥‡ç‚¹ï¼šé»‘æ´ä¸­å¿ƒï¼Œå¯†åº¦å’Œå¼•åŠ›æ— é™å¤§çš„ç‚¹ã€‚3. æ— æ¯›å®šç†ï¼šä¸€ä¸ªç¨³å®šçš„é»‘æ´ä»…ç”±å…¶è´¨é‡ã€è§’åŠ¨é‡å’Œç”µè·ä¸‰ä¸ªç‰©ç†é‡æ¥ç¡®å®šã€‚</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹è¾“å‡ºï¼ˆå‡è®¾è¯¥æ¡ç›®å¾—åˆ†åœ¨ <code>[min_score, max_score]</code> åŒºé—´å†…ï¼‰ï¼š</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">instruction</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">è¯·è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯é»‘æ´ï¼Œå¹¶è¯´æ˜å®ƒçš„ä¸»è¦ç‰¹æ€§ã€‚</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">output</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">é»‘æ´æ˜¯æ—¶ç©ºçš„ä¸€ä¸ªåŒºåŸŸï¼Œå…¶å¼•åŠ›åœºéå¸¸å¼ºå¤§ï¼Œä»¥è‡³äºä»»ä½•ç‰©è´¨å’Œè¾å°„ï¼ˆåŒ…æ‹¬å…‰ï¼‰éƒ½æ— æ³•é€ƒé€¸ã€‚å®ƒçš„ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š1. äº‹ä»¶è§†ç•Œï¼šé»‘æ´çš„è¾¹ç•Œï¼Œä¸€æ—¦è¶Šè¿‡å°±æ— æ³•è¿”å›ã€‚2. å¥‡ç‚¹ï¼šé»‘æ´ä¸­å¿ƒï¼Œå¯†åº¦å’Œå¼•åŠ›æ— é™å¤§çš„ç‚¹ã€‚3. æ— æ¯›å®šç†ï¼šä¸€ä¸ªç¨³å®šçš„é»‘æ´ä»…ç”±å…¶è´¨é‡ã€è§’åŠ¨é‡å’Œç”µè·ä¸‰ä¸ªç‰©ç†é‡æ¥ç¡®å®šã€‚</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">DeitaComplexityScore</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4.5</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20)]))}const k=s(l,[["render",n]]),r=JSON.parse('{"path":"/zh/api/operators/text_sft/filter/deitacomplexityfilter/","title":"DeitaComplexityFilter","lang":"zh-CN","frontmatter":{"title":"DeitaComplexityFilter","createTime":"2025/10/09 17:09:04","permalink":"/zh/api/operators/text_sft/filter/deitacomplexityfilter/"},"readingTime":{"minutes":2.48,"words":744},"git":{"createdTime":1760001305000,"updatedTime":1760001305000,"contributors":[{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"}]},"filePathRelative":"zh/notes/api/operators/text_sft/filter/DeitaComplexityFilter.md","headers":[]}');export{k as comp,r as data};
