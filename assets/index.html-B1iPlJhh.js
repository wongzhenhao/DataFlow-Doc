import{_ as a,c as e,b as t,a as s,o as l}from"./app-GpZKBnvo.js";const n={};function h(k,i){return l(),e("div",null,i[0]||(i[0]=[t(`<h2 id="ğŸ“˜-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“˜-æ¦‚è¿°"><span>ğŸ“˜ æ¦‚è¿°</span></a></h2><p>[QuratingSampleEvaluator] æ˜¯ä¸€ä¸ªæ–‡æœ¬è´¨é‡è¯„ä¼°ç®—å­ï¼Œå®ƒåˆ©ç”¨ <code>princeton-nlp/QuRater-1.3B</code> æ¨¡å‹ä»å¤šä¸ªç»´åº¦å¯¹è¾“å…¥æ–‡æœ¬è¿›è¡Œæ‰“åˆ†ã€‚è¯¥ç®—å­å¯ä»¥è¯„ä¼°æ–‡æœ¬çš„å†™ä½œé£æ ¼ã€ä¸“ä¸šçŸ¥è¯†è¦æ±‚ã€äº‹å®æ€§ä¸è¶£å‘³æ€§ä»¥åŠæ•™è‚²ä»·å€¼ï¼Œä¸ºæ¯ä¸ªç»´åº¦ç”Ÿæˆä¸€ä¸ª 0 åˆ° 1 ä¹‹é—´çš„åˆ†æ•°ï¼Œä»è€Œæä¾›å¯¹æ–‡æœ¬è´¨é‡çš„å…¨é¢é‡åŒ–è¯„ä¼°ã€‚</p><h2 id="init-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#init-å‡½æ•°"><span>__init__å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> map_batch_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> int</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 512</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> num_workers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> int</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> device_batch_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> int</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 16</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> device</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cuda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">             labels</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">writing_style</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">required_expertise</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">facts_and_trivia</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">educational_value</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> model_cache_dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./dataflow_cache</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="initå‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#initå‚æ•°è¯´æ˜"><span>initå‚æ•°è¯´æ˜</span></a></h3><table><thead><tr><th style="text-align:left;">å‚æ•°å</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>map_batch_size</strong></td><td style="text-align:left;">int</td><td style="text-align:left;">512</td><td style="text-align:left;">æ•°æ®é¢„å¤„ç†ï¼ˆå¦‚åˆ†è¯ï¼‰æ—¶çš„æ‰¹å¤„ç†å¤§å°ã€‚</td></tr><tr><td style="text-align:left;"><strong>num_workers</strong></td><td style="text-align:left;">int</td><td style="text-align:left;">1</td><td style="text-align:left;">ç”¨äºæ•°æ®åŠ è½½å’Œé¢„å¤„ç†çš„å¹¶è¡Œå·¥ä½œè¿›ç¨‹æ•°ã€‚</td></tr><tr><td style="text-align:left;"><strong>device_batch_size</strong></td><td style="text-align:left;">int</td><td style="text-align:left;">16</td><td style="text-align:left;">åœ¨æŒ‡å®šè®¾å¤‡ä¸Šè¿›è¡Œæ¨¡å‹æ¨ç†æ—¶çš„æ‰¹å¤„ç†å¤§å°ã€‚</td></tr><tr><td style="text-align:left;"><strong>device</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&#39;cuda&#39;</td><td style="text-align:left;">æ¨¡å‹æ¨ç†æ‰€ä½¿ç”¨çš„è®¾å¤‡ï¼Œå¦‚ &#39;cuda&#39; æˆ– &#39;cpu&#39;ã€‚</td></tr><tr><td style="text-align:left;"><strong>labels</strong></td><td style="text-align:left;">list</td><td style="text-align:left;"><code>[&#39;writing_style&#39;, &#39;required_expertise&#39;, &#39;facts_and_trivia&#39;, &#39;educational_value&#39;]</code></td><td style="text-align:left;">æŒ‡å®šè¦è¯„ä¼°çš„æ–‡æœ¬è´¨é‡ç»´åº¦åˆ—è¡¨ã€‚</td></tr><tr><td style="text-align:left;"><strong>model_cache_dir</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&#39;./dataflow_cache&#39;</td><td style="text-align:left;">ç”¨äºå­˜å‚¨å’Œç¼“å­˜ä¸‹è½½çš„æ¨¡å‹çš„ç›®å½•è·¯å¾„ã€‚</td></tr></tbody></table><h3 id="promptæ¨¡æ¿è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#promptæ¨¡æ¿è¯´æ˜"><span>Promptæ¨¡æ¿è¯´æ˜</span></a></h3><h2 id="runå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#runå‡½æ•°"><span>runå‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> DataFlowStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> input_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> output_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‚æ•°"><span>å‚æ•°</span></a></h4><table><thead><tr><th style="text-align:left;">åç§°</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>storage</strong></td><td style="text-align:left;">DataFlowStorage</td><td style="text-align:left;">å¿…éœ€</td><td style="text-align:left;">æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚</td></tr><tr><td style="text-align:left;"><strong>input_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">å¿…éœ€</td><td style="text-align:left;">è¾“å…¥åˆ—åï¼Œå¯¹åº”å¾…è¯„ä¼°æ–‡æœ¬çš„å­—æ®µã€‚</td></tr><tr><td style="text-align:left;"><strong>output_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">å¿…éœ€</td><td style="text-align:left;">è¾“å‡ºåˆ—åçš„åŸºé”®ï¼Œå½“å‰ç®—å­ä¸­æœªä½¿ç”¨ï¼Œä½†ä¸ºä¿æŒæ¥å£ä¸€è‡´æ€§è€Œä¿ç•™ã€‚</td></tr></tbody></table><h2 id="ğŸ§ -ç¤ºä¾‹ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -ç¤ºä¾‹ç”¨æ³•"><span>ğŸ§  ç¤ºä¾‹ç”¨æ³•</span></a></h2><h4 id="ğŸ§¾-é»˜è®¤è¾“å‡ºæ ¼å¼-output-format" tabindex="-1"><a class="header-anchor" href="#ğŸ§¾-é»˜è®¤è¾“å‡ºæ ¼å¼-output-format"><span>ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰</span></a></h4><p>ç®—å­ä¼šå‘è¾“å…¥æ•°æ®ä¸­æ·»åŠ å¤šä¸ªæ–°çš„è¯„åˆ†åˆ—ï¼Œæ¯ä¸ªåˆ—å¯¹åº”ä¸€ä¸ªè¯„ä¼°ç»´åº¦ã€‚</p>`,14),s("table",null,[s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"left"}},"å­—æ®µ"),s("th",{style:{"text-align":"left"}},"ç±»å‹"),s("th",{style:{"text-align":"left"}},"è¯´æ˜")])]),s("tbody",null,[s("tr",null,[s("td",{style:{"text-align":"left"},input_key:""}),s("td",{style:{"text-align":"left"}},"str"),s("td",{style:{"text-align":"left"}},"è¾“å…¥çš„å¾…è¯„ä¼°æ–‡æœ¬ã€‚")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"QuratingWritingStyleScore"),s("td",{style:{"text-align":"left"}},"float"),s("td",{style:{"text-align":"left"}},"å†™ä½œé£æ ¼ç»´åº¦çš„è¯„åˆ†ï¼ˆ0-1ï¼‰ã€‚")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"QuratingRequiredExpertiseScore"),s("td",{style:{"text-align":"left"}},"float"),s("td",{style:{"text-align":"left"}},"æ‰€éœ€ä¸“ä¸šçŸ¥è¯†ç»´åº¦çš„è¯„åˆ†ï¼ˆ0-1ï¼‰ã€‚")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"QuratingFactsAndTriviaScore"),s("td",{style:{"text-align":"left"}},"float"),s("td",{style:{"text-align":"left"}},"äº‹å®ä¸è¶£é—»ç»´åº¦çš„è¯„åˆ†ï¼ˆ0-1ï¼‰ã€‚")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"QuratingEducationalValueScore"),s("td",{style:{"text-align":"left"}},"float"),s("td",{style:{"text-align":"left"}},"æ•™è‚²ä»·å€¼ç»´åº¦çš„è¯„åˆ†ï¼ˆ0-1ï¼‰ã€‚")])])],-1),t(`<p><strong>ç¤ºä¾‹è¾“å…¥ï¼š</strong> ï¼ˆå‡è®¾ <code>input_key</code> ä¸º &quot;text&quot;ï¼‰</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">The Pythagorean theorem is a fundamental relation in Euclidean geometry among the three sides of a right triangle. It states that the square of the hypotenuse (the side opposite the right angle) is equal to the sum of the squares of the other two sides.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹è¾“å‡ºï¼š</strong></p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">The Pythagorean theorem is a fundamental relation in Euclidean geometry among the three sides of a right triangle. It states that the square of the hypotenuse (the side opposite the right angle) is equal to the sum of the squares of the other two sides.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">QuratingWritingStyleScore</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.85</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">QuratingRequiredExpertiseScore</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.65</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">QuratingFactsAndTriviaScore</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.90</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">QuratingEducationalValueScore</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.95</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)]))}const r=a(n,[["render",h]]),p=JSON.parse('{"path":"/zh/api/operators/text_pt/eval/quratingsampleevaluator/","title":"QuratingSampleEvaluator","lang":"zh-CN","frontmatter":{"title":"QuratingSampleEvaluator","createTime":"2025/10/09 17:09:04","permalink":"/zh/api/operators/text_pt/eval/quratingsampleevaluator/"},"readingTime":{"minutes":1.99,"words":597},"git":{"createdTime":1760001305000,"updatedTime":1760001305000,"contributors":[{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"}]},"filePathRelative":"zh/notes/api/operators/text_pt/eval/QuratingSampleEvaluator.md","headers":[]}');export{r as comp,p as data};
