import{_ as i,c as a,b as s,o as n}from"./app-GpZKBnvo.js";const t={};function r(l,e){return n(),a("div",null,e[0]||(e[0]=[s(`<p>DataFlow contains a large number of operators built on different Python libraries with varying dependencies. If the interpreter were to import every operator and its dependencies up front, the overhead would be enormous. Moreover, as more libraries are added in the future, some of them may become mutually exclusive. Therefore, <strong>lazy loading (<code>Lazyload</code>) is essential</strong>: an operator’s dependencies are imported only when the operator itself is explicitly imported.</p><p>Thanks to <a href="https://github.com/MOLYHECI" target="_blank" rel="noopener noreferrer">Zimo Meng</a> for implementing an AST-aware lazy loader that still allows VS Code’s IntelliSense to work correctly.</p><p>When developing a new operator, in addition to writing its core logic in a Python file, <strong>you must add the necessary imports so that the DataFlow framework can locate and import the file properly</strong>.</p><p>Take the minimal <code>PromptedGenerator</code> operator as a concrete reference:<br><a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/generate/GeneralText/prompted_generator.py" target="_blank" rel="noopener noreferrer">Link</a></p><p>After the operator logic is implemented, open the <code>__init__.py</code> file one level above it (i.e., <code>dataflow/operators/generate/__init__.py</code>) and append the following import <strong>in the exact location and format shown below</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> TYPE_CHECKING</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # GeneralText</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    from</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> .</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">GeneralText</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">pretrain_generator </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> PretrainGenerator</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    from</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> .</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">GeneralText</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">condor_generator </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CondorGenerator</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    from</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> .</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">GeneralText</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompted_generator </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> PromptedGenerator  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Add yours here</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # Reasoning</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Do not add any other <code>from xxxx import *</code> statements elsewhere</strong>, or you will break the lazy-loading mechanism.</p>`,7)]))}const p=i(t,[["render",r]]),h=JSON.parse('{"path":"/en/dev_guide/lazy_loader/","title":"Must-Read – Operator Development Based on lazy_loader","lang":"en-US","frontmatter":{"title":"Must-Read – Operator Development Based on lazy_loader","createTime":"2025-07-12T17:35:02.000Z","permalink":"/en/dev_guide/lazy_loader/"},"readingTime":{"minutes":0.77,"words":231},"git":{"createdTime":1752314198000,"updatedTime":1752564709000,"contributors":[{"name":"Sunnyhaze","username":"Sunnyhaze","email":"mxch1122@126.com","commits":1,"avatar":"https://avatars.githubusercontent.com/Sunnyhaze?v=4","url":"https://github.com/Sunnyhaze"},{"name":"zzy1127","username":"zzy1127","email":"1726073424@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/zzy1127?v=4","url":"https://github.com/zzy1127"}]},"filePathRelative":"en/notes/dev_guide/lazy_loader.md","headers":[]}');export{p as comp,h as data};
