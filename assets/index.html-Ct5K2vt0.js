import{_ as n,c as i,b as l,a as t,d as a,e as d,w as p,r,o as c}from"./app-GpZKBnvo.js";const h={};function o(m,s){const e=r("VPLink");return c(),i("div",null,[s[3]||(s[3]=l(`<p>沐曦机器所有的跟<code>torch</code>，显卡调用相关的库都必须使用沐曦官方提供编译的运行时。如果覆盖安装普通的CUDA包，会导致cuda not found等一些列问题。请务必注意。</p><p><code>pip list</code>的部分样例：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>apex                              0.1+metax2.29.0.4</span></span>
<span class="line"><span>dropout_layer_norm                0.1+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>flash_attn                        2.6.3+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>flashinfer                        0.1.5+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>fonttools                         4.56.0</span></span>
<span class="line"><span>frozenlist                        1.5.0</span></span>
<span class="line"><span>fsspec                            2024.6.1</span></span>
<span class="line"><span>func_timeout                      4.3.5</span></span>
<span class="line"><span>fused_dense_lib                   2.6.3+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>mcspconv                          2.1.0+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>ray                               2.9.3+maca2.29.0.5</span></span>
<span class="line"><span>referencing                       0.36.2</span></span>
<span class="line"><span>regex                             2024.11.6</span></span>
<span class="line"><span>requests                          2.32.3</span></span>
<span class="line"><span>rich                              14.0.0</span></span>
<span class="line"><span>rootpath                          0.1.1</span></span>
<span class="line"><span>rotary_emb                        0.1+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>torch                             2.4.0+metax2.29.0.4</span></span>
<span class="line"><span>torchaudio                        2.4.1+metax2.29.0.4</span></span>
<span class="line"><span>torchdata                         0.11.0</span></span>
<span class="line"><span>torchvision                       0.15.1+metax2.29.0.4</span></span>
<span class="line"><span>triton                            3.0.0+metax20250216.312</span></span>
<span class="line"><span>vllm                              0.7.2+maca2.29.0.5torch2.4</span></span>
<span class="line"><span>xentropy_cuda_lib                 0.1+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>xformers                          0.0.22+metax2.29.0.4torch2.4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所有带<code>maca</code>, <code>metax</code>后缀的包都不能覆盖安装，否则会有有未定义问题。</p><blockquote><p>如果覆盖安装，则只能从平台重新部署镜像恢复。务必小心。</p></blockquote><h2 id="无问芯穹平台开发dataflow" tabindex="-1"><a class="header-anchor" href="#无问芯穹平台开发dataflow"><span>无问芯穹平台开发Dataflow</span></a></h2><p>首先需要创建开发机，申请显卡，并创建镜像，推荐使用该镜像</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>cr.infini-ai.com/*/llamafactory_vllm_xc:v0.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>作为开发者，请从官方仓库clone/pull最新版</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/OpenDCAI/DataFlow</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后使用本地安装</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DataFlow</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>默认应该不会安装<code>vllm</code>，请务必检查<code>vllm</code>库是否被覆盖。</p><p>然后执行<code>dataflow -v</code>和<code>dataflow env</code>来查看是否运行正常。</p>`,14)),t("p",null,[s[1]||(s[1]=a("随后参考")),d(e,{href:"../guide/quickstart/install.md"},{default:p(()=>s[0]||(s[0]=[a("指南")])),_:1,__:[0]}),s[2]||(s[2]=a("使用库内各种算子和Pipeline即可。"))])])}const u=n(h,[["render",o]]),k=JSON.parse('{"path":"/zh/dev_guide/4n8jhy2e/","title":"沐曦机器开发","lang":"zh-CN","frontmatter":{"title":"沐曦机器开发","createTime":"2025/06/30 11:18:41","permalink":"/zh/dev_guide/4n8jhy2e/"},"readingTime":{"minutes":1.12,"words":335},"git":{"createdTime":1751254622000,"updatedTime":1751254622000,"contributors":[{"name":"Sunnyhaze","username":"Sunnyhaze","email":"mxch1122@126.com","commits":1,"avatar":"https://avatars.githubusercontent.com/Sunnyhaze?v=4","url":"https://github.com/Sunnyhaze"}]},"filePathRelative":"zh/notes/dev_guide/muxi_server.md","headers":[]}');export{u as comp,k as data};
