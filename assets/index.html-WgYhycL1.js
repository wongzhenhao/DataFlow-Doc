import{_ as s,c as a,b as n,o as l}from"./app-GpZKBnvo.js";const e={};function t(h,i){return l(),a("div",null,i[0]||(i[0]=[n(`<h2 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°"><span>æ¦‚è¿°</span></a></h2><p>çŸ¥è¯†åº“æ¸…æ´—ç®—å­é€‚ç”¨äºé¢å‘RAGï¼ŒRAREï¼ŒRAFTç­‰ä¸‹æ¸¸ä»»åŠ¡çš„çŸ¥è¯†åº“æå–ï¼Œæ•´ç†ï¼Œç²¾è°ƒï¼Œä¸»è¦åŒ…æ‹¬ï¼š<strong>çŸ¥è¯†æå–ç®—å­(FileOrURLToMarkdownConverterBatch</strong>)ï¼Œ<strong>è¯­æ–™åˆ†å—ç®—å­(KBCChunkGenerator)<strong>å’Œ</strong>çŸ¥è¯†æ¸…æ´—ç®—å­(KBCTextCleaner)</strong>, <strong>æ–‡æœ¬åˆ°å¤šè½®QAç”Ÿæˆå™¨(Text2MultiHopQAGenerator)</strong>ã€‚è¿™äº›ç®—å­èƒ½å¤Ÿç”¨äºå¤šç§åŸå§‹æ ¼å¼çš„æ–‡ä»¶æ•´ç†ï¼Œä»¥åŠçˆ¬å–ç‰¹å®šURLå¯¹åº”çš„ç½‘é¡µå†…å®¹ï¼Œå¹¶å°†è¿™äº›æ–‡æœ¬çŸ¥è¯†æ•´ç†æˆå¯è¯»ã€æ˜“ç”¨ã€å®‰å…¨çš„RAGçŸ¥è¯†åº“ã€‚</p><p>æœ¬æ–‡ä¸­ç®—å­æ ‡è®°ç»§æ‰¿è‡ª<a href="https://opendcai.github.io/DataFlow-Doc/zh/guide/Reasoning_operators/" target="_blank" rel="noopener noreferrer">å¼ºæ¨ç†ç®—å­</a></p><ul><li>ğŸš€ <strong>è‡ªä¸»åˆ›æ–°</strong>ï¼šæ ¸å¿ƒç®—æ³•åŸåˆ›ç ”å‘ï¼Œå¡«è¡¥ç°æœ‰ç®—æ³•ç©ºç™½æˆ–æ˜¯è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œçªç ´å½“ä¸‹æ€§èƒ½ç“¶é¢ˆã€‚</li><li>âœ¨ <strong>å¼€æºé¦–å‘</strong>ï¼šé¦–æ¬¡å°†è¯¥ç®—å­é›†æˆåˆ°ç¤¾åŒºä¸»æµæ¡†æ¶ä¸­ï¼Œæ–¹ä¾¿æ›´å¤šå¼€å‘è€…ä½¿ç”¨ï¼Œå®ç°å¼€æºå…±äº«ã€‚</li></ul><h2 id="çŸ¥è¯†åº“æ¸…æ´—ç®—å­" tabindex="-1"><a class="header-anchor" href="#çŸ¥è¯†åº“æ¸…æ´—ç®—å­"><span>çŸ¥è¯†åº“æ¸…æ´—ç®—å­</span></a></h2><p>çŸ¥è¯†åº“æ¸…æ´—ç®—å­èƒ½å®Œæˆå¤šç§å¼‚æ„æ–‡æœ¬çŸ¥è¯†æºçš„æå–ã€æ•´ç†å’Œæ¸…æ´—å·¥ä½œã€‚</p><table><thead><tr><th>åç§°</th><th style="text-align:left;">é€‚ç”¨ç±»å‹</th><th>ç®€ä»‹</th><th>å®˜æ–¹ä»“åº“æˆ–è®ºæ–‡</th></tr></thead><tbody><tr><td>FileOrURLToMarkdownConverterBatchğŸš€âœ¨</td><td style="text-align:left;">çŸ¥è¯†æå–</td><td>è¯¥ç®—å­ç”¨äºå°†å„ç§å¼‚æ„æ–‡æœ¬çŸ¥è¯†æå–æˆmarkdownæ ¼å¼ï¼Œæ–¹ä¾¿åç»­å¤„ç†ã€‚</td><td>-</td></tr><tr><td>KBCChunkGeneratorâœ¨</td><td style="text-align:left;">è¯­æ–™åˆ†æ®µ</td><td>è¯¥ç®—å­æä¾›å¤šç§æ–¹å¼ï¼Œç”¨äºå°†æ–‡æœ¬å…¨æ–‡åˆ‡åˆ†æˆåˆé€‚å¤§å°çš„ç‰‡æ®µï¼Œæ–¹ä¾¿åç»­ç´¢å¼•ç­‰æ“ä½œã€‚</td><td>-</td></tr><tr><td>KBCTextCleanerğŸš€âœ¨</td><td style="text-align:left;">çŸ¥è¯†æ¸…æ´—</td><td>è¯¥ç®—å­åˆ©ç”¨LLMå¯¹æ•´ç†å¥½çš„åŸå§‹æ–‡æœ¬è¿›è¡Œæ¸…æ´—ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºè§„èŒƒåŒ–ï¼Œå»éšç§ç­‰æ“ä½œã€‚</td><td>-</td></tr><tr><td>Text2MultiHopQAGeneratorğŸš€âœ¨</td><td style="text-align:left;">çŸ¥è¯†è½¬è¿°</td><td>è¯¥ç®—å­åˆ©ç”¨é•¿åº¦ä¸ºä¸‰ä¸ªå¥å­çš„æ»‘åŠ¨çª—å£ï¼Œå°†æ¸…æ´—å¥½çš„çŸ¥è¯†åº“è½¬å†™æˆä¸€ç³»åˆ—éœ€è¦å¤šæ­¥æ¨ç†çš„QAï¼Œæ›´æœ‰åˆ©äºRAGå‡†ç¡®æ¨ç†ã€‚</td><td><a href="https://github.com/eth-medical-ai-lab/MIRIAD" target="_blank" rel="noopener noreferrer">MIRAID</a></td></tr></tbody></table><h2 id="ç®—å­æ¥å£è°ƒç”¨è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ç®—å­æ¥å£è°ƒç”¨è¯´æ˜"><span>ç®—å­æ¥å£è°ƒç”¨è¯´æ˜</span></a></h2><p>ç‰¹åˆ«åœ°ï¼Œå¯¹äºæŒ‡å®šå­˜å‚¨è·¯å¾„ç­‰æˆ–æ˜¯è°ƒç”¨æ¨¡å‹çš„ç®—å­ï¼Œæˆ‘ä»¬æä¾›äº†å°è£…åçš„<strong>æ¨¡å‹æ¥å£</strong>ä»¥åŠ<strong>å­˜å‚¨å¯¹è±¡æ¥å£</strong>ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®šä¹‰LLM APIæ¥å£ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llmserving </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> APILLMServing_request</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">api_llm_serving </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> APILLMServing_request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        api_url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://api.openai.com/v1/chat/completions</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        model_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">gpt-4o</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        max_workers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®šä¹‰æœ¬åœ°LLMæœåŠ¡æ¥å£ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llmserving </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> LocalModelLLMServing</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">local_llm_serving </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> LocalModelLLMServing_vllm</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    hf_model_name_or_path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/data0/models/Qwen2.5-7B-Instruct</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    vllm_max_tokens</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1024</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    vllm_tensor_parallel_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    vllm_gpu_memory_utilization</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.6</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    vllm_repetition_penalty</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1.2</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸ºç®—å­è¿›è¡Œå­˜å‚¨æ¥å£é¢„å®šä¹‰ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">utils</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    first_entry_file_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your_file_path</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    cache_path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./cache</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    file_name_prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dataflow_cache_step</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    cache_type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">jsonl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # jsonl, json, ...</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºæ¯ä¸ªç®—å­ï¼Œä¸‹æ–‡å°†è¯¦ç»†ä»‹ç»å…¶è°ƒç”¨æ–¹å¼å’Œå‚æ•°åˆ—è¡¨ã€‚</p><h2 id="è¯¦ç»†ç®—å­è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#è¯¦ç»†ç®—å­è¯´æ˜"><span>è¯¦ç»†ç®—å­è¯´æ˜</span></a></h2><h3 id="_1-fileorurltomarkdownconverterbatch" tabindex="-1"><a class="header-anchor" href="#_1-fileorurltomarkdownconverterbatch"><span>1. FileOrURLToMarkdownConverterBatch</span></a></h3><p><strong>åŠŸèƒ½æè¿°</strong>ï¼š</p><p>çŸ¥è¯†æå–ç®—å­ï¼ˆFileOrURLToMarkdownConverterBatchï¼‰æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½æ–‡æ¡£å¤„ç†å·¥å…·ï¼Œæ”¯æŒä»å¤šç§æ–‡ä»¶æ ¼å¼ä¸­æå–ç»“æ„åŒ–å†…å®¹å¹¶è½¬æ¢ä¸ºæ ‡å‡†Markdownæ ¼å¼ã€‚è¯¥ç®—å­æ•´åˆäº†å¤šä¸ªä¸“ä¸šè§£æå¼•æ“ï¼Œå®ç°é«˜ç²¾åº¦çš„æ–‡æ¡£å†…å®¹è½¬æ¢ã€‚ä»£ç : <a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/knowledge_cleaning/generate/file_or_url_to_markdown_converter_batch.py" target="_blank" rel="noopener noreferrer">FileOrURLToMarkdownConverterBatch</a></p><p><strong>è¾“å…¥å‚æ•°</strong>ï¼š</p><ul><li><p><code>__init__()</code></p><ul><li><code>intermediate_dir</code>ï¼šä¸­é—´æ–‡ä»¶è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤ï¼š&quot;intermediate&quot;ï¼‰</li><li><code>lang</code>ï¼šæ–‡æ¡£è¯­è¨€ï¼ˆé»˜è®¤ï¼š&quot;ch&quot;ä¸­æ–‡ï¼‰</li><li><code>mineru_backend</code>ï¼šmineruåç«¯ï¼ˆé»˜è®¤ï¼švlm_vllm_engineï¼‰</li></ul></li><li><p><code>run()</code></p><ul><li><code>storage</code>ï¼šæ•°æ®æµå­˜å‚¨æ¥å£å¯¹è±¡ï¼ˆå¿…é¡»ï¼‰</li></ul></li></ul><p><strong>ä¸»è¦ç‰¹æ€§</strong>ï¼š</p><ul><li><p><strong>å¤šæ ¼å¼æ”¯æŒ</strong></p><ul><li><p><strong>PDFæ–‡æ¡£</strong>ï¼š</p><ul><li>ä½¿ç”¨MinerUè§£æå¼•æ“æå–æ–‡æœ¬/è¡¨æ ¼/å…¬å¼</li><li>æ”¯æŒè‡ªåŠ¨/TXT/OCRä¸‰ç§è§£ææ¨¡å¼</li><li>ä¿ç•™åŸå§‹æ–‡æ¡£å¸ƒå±€ç»“æ„</li></ul></li><li><p><strong>ç½‘é¡µå†…å®¹</strong>ï¼š</p><ul><li>ä½¿ç”¨trafilaturaæå–æ­£æ–‡å†…å®¹</li><li>è‡ªåŠ¨è¿‡æ»¤å¹¿å‘Šç­‰æ— å…³å…ƒç´ </li><li>ä¿æŒè¶…é“¾æ¥å’ŒåŸºç¡€æ’ç‰ˆ</li></ul></li><li><p><strong>çº¯æ–‡æœ¬</strong>ï¼š</p><ul><li>TXT/MDæ–‡ä»¶ç›´æ¥é€ä¼ </li><li>ä¸åšé¢å¤–å¤„ç†</li></ul></li></ul></li></ul><p><strong>é«˜çº§åŠŸèƒ½</strong></p><ul><li>è‡ªåŠ¨è¯­è¨€æ£€æµ‹ï¼ˆä¸­è‹±æ–‡è‡ªåŠ¨è¯†åˆ«ï¼‰</li><li>æ”¯æŒæœ¬åœ°æ–‡ä»¶å’ŒURLä¸¤ç§è¾“å…¥æ–¹å¼</li><li>å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•</li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">knowledge_cleaning_step1 </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileOrURLToMarkdownConverterBatch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    intermediate_dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">../example_data/KBCleaningPipeline/raw/</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    lang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">en</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    mineru_backend</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vlm-vllm-engine</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">knowledge_cleaning_step1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # input_key=,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # output_key=,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-kbcchunkgenerator" tabindex="-1"><a class="header-anchor" href="#_2-kbcchunkgenerator"><span>2. KBCChunkGenerator</span></a></h3><p><strong>åŠŸèƒ½æè¿°</strong>ï¼šKBCChunkGenerator æ˜¯ä¸€ä¸ªé«˜æ•ˆçµæ´»çš„æ–‡æœ¬åˆ†å—å·¥å…·ï¼Œä¸“ä¸ºå¤„ç†å¤§è§„æ¨¡æ–‡æœ¬è¯­æ–™è®¾è®¡ã€‚è¯¥ç®—å­æ”¯æŒå¤šç§åˆ†å—ç­–ç•¥ï¼Œå¯æ™ºèƒ½åˆ†å‰²æ–‡æœ¬ä»¥é€‚åº”ä¸åŒNLPä»»åŠ¡çš„éœ€æ±‚ï¼Œç‰¹åˆ«ä¼˜åŒ–äº†RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰åº”ç”¨åœºæ™¯ã€‚ä»£ç :<a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/knowledge_cleaning/generate/kbc_chunk_generator.py" target="_blank" rel="noopener noreferrer">KBCChunkGenerator</a></p><p><strong>è¾“å…¥å‚æ•°</strong>ï¼š</p><ul><li><p><code>__init__()</code></p><ul><li><code>chunk_size</code>: åˆ†å—å¤§å°ï¼ˆé»˜è®¤512 tokensï¼‰</li><li><code>chunk_overlap</code>: å—é—´é‡å å¤§å°ï¼ˆé»˜è®¤50 tokensï¼‰</li><li><code>split_method</code>: åˆ†å—æ–¹æ³•ï¼ˆtoken/sentence/semantic/recursiveï¼‰</li><li><code>min_tokens_per_chunk</code>: æœ€å°åˆ†å—é•¿åº¦ï¼ˆé»˜è®¤128 tokensï¼‰</li><li><code>tokenizer_name</code>: ä½¿ç”¨çš„tokenizeråç§°ï¼ˆé»˜è®¤&quot;bert-base-uncased&quot;ï¼‰</li></ul></li><li><p><code>run()</code></p><ul><li><code>storage</code>: æ•°æ®æµå­˜å‚¨æ¥å£å¯¹è±¡</li><li><code>input_file</code>: è¾“å…¥æ–‡ä»¶è·¯å¾„</li><li><code>output_key</code>: è¾“å‡ºå­—æ®µåï¼ˆé»˜è®¤&quot;raw_content&quot;ï¼‰</li></ul></li></ul><p><strong>ä¸»è¦ç‰¹æ€§ï¼š</strong></p><ul><li><p><strong>å¤šæ¨¡å¼åˆ†å—</strong></p><ul><li><p><strong>Tokenåˆ†å—</strong>ï¼šåŸºäºtokenizerçš„ç²¾ç¡®åˆ†å—</p></li><li><p><strong>å¥å­åˆ†å—</strong>ï¼šä¿æŒå¥å­å®Œæ•´æ€§</p></li><li><p><strong>è¯­ä¹‰åˆ†å—</strong>ï¼šæ ¹æ®è¯­ä¹‰è¾¹ç•Œåˆ†å‰²</p></li><li><p><strong>é€’å½’åˆ†å—</strong>ï¼šå¤šç²’åº¦æ™ºèƒ½åˆ†å‰²</p></li></ul></li><li><p><strong>æ™ºèƒ½å¤„ç†</strong></p><ul><li><p>è‡ªåŠ¨æ£€æµ‹è¾“å…¥æ–‡ä»¶æ ¼å¼ï¼ˆTXT/JSON/JSONL/MD/XMLï¼‰</p></li><li><p>åŠ¨æ€è°ƒæ•´åˆ†å—ç­–ç•¥ä»¥é€‚åº”ä¸åŒé•¿åº¦æ–‡æœ¬</p></li><li><p>å†…ç½®tokenæ•°è®¡ç®—å’Œé•¿åº¦æ ¡éªŒ</p></li><li><p>æ”¯æŒå¤§æ–‡ä»¶è‡ªåŠ¨åˆ†ç‰‡å¤„ç†</p></li></ul></li><li><p><strong>è¾“å‡ºæ§åˆ¶</strong></p><ul><li><p>å¯é…ç½®å—é—´é‡å </p></li><li><p>ç¡®ä¿æœ€å°åˆ†å—é•¿åº¦</p></li><li><p>ä¿ç•™åŸå§‹æ–‡æœ¬ç»“æ„</p></li><li><p>ç”Ÿæˆå¸¦å…ƒæ•°æ®çš„åˆ†å—ç»“æœ</p></li></ul></li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">text_splitter </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> KBCChunkGenerator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    split_method</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">token</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    chunk_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">512</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    tokenizer_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Qwen/Qwen2.5-7B-Instruct</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">text_splitter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    input_file</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">extracted</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    output_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">raw_content</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-kbctextcleaner" tabindex="-1"><a class="header-anchor" href="#_3-kbctextcleaner"><span>3. KBCTextCleaner</span></a></h3><p><strong>åŠŸèƒ½æè¿°</strong>ï¼šKBCTextCleaner æ˜¯ä¸€ä¸ªä¸“ä¸šçš„çŸ¥è¯†æ¸…æ´—ç®—å­ï¼Œä¸“é—¨ç”¨äºå¯¹RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿä¸­çš„åŸå§‹çŸ¥è¯†å†…å®¹è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚è¯¥ç®—å­é€šè¿‡å¤§è¯­è¨€æ¨¡å‹æ¥å£ï¼Œå®ç°å¯¹éç»“æ„åŒ–çŸ¥è¯†çš„æ™ºèƒ½æ¸…æ´—å’Œæ ¼å¼åŒ–ï¼Œæå‡çŸ¥è¯†åº“çš„å‡†ç¡®æ€§å’Œå¯è¯»æ€§ã€‚ä»£ç :<a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/knowledge_cleaning/generate/kbc_text_cleaner.py" target="_blank" rel="noopener noreferrer">KBCTextCleaner</a></p><p><strong>è¾“å…¥å‚æ•°</strong>ï¼š</p><p><code>__init__()</code></p><ul><li><code>llm_serving</code>: å¤§è¯­è¨€æ¨¡å‹æœåŠ¡æ¥å£ï¼ˆå¿…é¡»ï¼‰</li><li><code>lang</code>: å¤„ç†è¯­è¨€ï¼ˆé»˜è®¤&quot;ch&quot;ä¸­æ–‡ï¼‰</li></ul><p><code>run()</code></p><ul><li><code>storage</code>: æ•°æ®æµå­˜å‚¨æ¥å£å¯¹è±¡</li><li><code>input_key</code>: è¾“å…¥å­—æ®µåï¼ˆé»˜è®¤&quot;raw_content&quot;ï¼‰</li><li><code>output_key</code>: è¾“å‡ºå­—æ®µåï¼ˆé»˜è®¤&quot;cleaned&quot;ï¼‰</li></ul><p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p><ul><li><p><strong>å†…å®¹æ¸…æ´—</strong></p><ul><li><strong>HTML/XMLå¤„ç†</strong>ï¼šç§»é™¤å†—ä½™æ ‡ç­¾ï¼Œä¿ç•™è¯­ä¹‰åŒ–æ ‡ç­¾ï¼ˆtable/code/formulaç­‰ï¼‰ï¼Œæå–æœ‰æ„ä¹‰çš„å±æ€§å€¼</li><li><strong>æ–‡æœ¬è§„èŒƒåŒ–</strong>ï¼šæ ‡å‡†åŒ–å¼•å·ï¼ˆ&quot; &quot;ä»£æ›¿&quot; &quot;ï¼‰ï¼Œç»Ÿä¸€ç ´æŠ˜å·ï¼ˆ-ä»£æ›¿â€“/â€”ï¼‰ï¼Œä¸­è‹±æ–‡çœç•¥å·è½¬æ¢ï¼Œä¿ç•™æŠ€æœ¯ç¬¦å·ï¼ˆ&lt;&lt; &gt;&gt;ç­‰æ“ä½œç¬¦ï¼‰</li><li><strong>é“¾æ¥å¤„ç†</strong>ï¼šç§»é™¤è¶…é“¾æ¥åŒ…è£…ï¼Œä¿ç•™æ˜¾ç¤ºæ–‡æœ¬ï¼Œä¿æŒè„šæ³¨URLå®Œæ•´</li></ul></li><li><p><strong>ç»“æ„ä¼˜åŒ–</strong></p><ul><li><p>ä¿æŒåŸå§‹æ®µè½/åˆ—è¡¨æ¢è¡Œ</p></li><li><p>ä¿ç•™ä»£ç /å¼•ç”¨ç¼©è¿›å±‚çº§</p></li><li><p>å‹ç¼©è¿ç»­ç©ºè¡Œï¼ˆæœ€å¤š2è¡Œï¼‰</p></li><li><p>æ ‡è®°ä¸å®Œæ•´ä»£ç å—</p></li></ul></li><li><p><strong>è´¨é‡ä¿è¯</strong></p><ul><li><p>äº‹å®æ€§å†…å®¹é›¶ä¿®æ”¹</p></li><li><p>ä¸“ä¸šæœ¯è¯­ä¿æŠ¤</p></li><li><p>è¡¨æ ¼ç»“æ„ä¿ç•™</p></li><li><p>éšç§æ•°æ®è„±æ•å¤„ç†</p></li></ul></li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">text_cleaner </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> KBCTextCleaner</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">api_llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    lang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">en</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">text_cleaner</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  input_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">raw_content</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  output_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cleaned</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-textmultihopqagenerator" tabindex="-1"><a class="header-anchor" href="#_4-textmultihopqagenerator"><span>4. TextMultiHopQAGenerator</span></a></h3><p><strong>åŠŸèƒ½æè¿°</strong>ï¼šMultiHopQAGenerator æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å¤šè·³é—®ç­”å¯¹ç”Ÿæˆç®—å­ï¼Œä¸“é—¨ç”¨äºä»æ–‡æœ¬æ•°æ®ä¸­è‡ªåŠ¨ç”Ÿæˆéœ€è¦å¤šæ­¥æ¨ç†çš„é—®é¢˜-ç­”æ¡ˆå¯¹ã€‚è¯¥ç®—å­é€šè¿‡å¤§è¯­è¨€æ¨¡å‹æ¥å£ï¼Œå®ç°å¯¹æ–‡æœ¬çš„æ™ºèƒ½åˆ†æå’Œå¤æ‚é—®é¢˜æ„å»ºï¼Œé€‚ç”¨äºæ„å»ºé«˜è´¨é‡çš„å¤šè·³é—®ç­”æ•°æ®é›†ã€‚ä»£ç :<a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/core_text/generate/text2multihopqa_generator.py" target="_blank" rel="noopener noreferrer">Text2MultiHopQAGenerator</a></p><p><strong>è¾“å…¥å‚æ•°</strong>ï¼š</p><p><code>__init__()</code></p><ul><li><code>llm_serving</code>: å¤§è¯­è¨€æ¨¡å‹æœåŠ¡æ¥å£ï¼ˆå¿…é¡»ï¼‰</li><li><code>num_q</code>: æ¯ä¸ªæ–‡æ®µå¯¹åº”QAæœ€å¤§å€¼ï¼ˆé»˜è®¤5ï¼‰</li><li><code>seed</code>: éšæœºç§å­ï¼ˆé»˜è®¤0ï¼‰</li><li><code>lang</code>: å¤„ç†è¯­è¨€ï¼ˆé»˜è®¤&quot;en&quot;è‹±æ–‡ï¼‰</li></ul><p><code>run()</code></p><ul><li><p><code>storage</code>: æ•°æ®æµå­˜å‚¨æ¥å£å¯¹è±¡</p></li><li><p><code>input_key</code>: è¾“å…¥å­—æ®µåï¼ˆé»˜è®¤&quot;cleaned&quot;ï¼‰</p></li><li><p><code>output_key</code>: è¾“å‡ºå­—æ®µåï¼ˆé»˜è®¤&quot;MultiHopQA&quot;ï¼‰</p></li></ul><p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p><ul><li><p><strong>æ–‡æœ¬é¢„å¤„ç†</strong></p><ul><li>è‡ªåŠ¨æ¸…ç†æ— æ•ˆå­—ç¬¦å’Œç©ºç™½</li><li>æ‰§è¡Œé•¿åº¦æ£€æŸ¥</li><li>è´¨é‡éªŒè¯ï¼ˆå¥å­å®Œæ•´æ€§ã€ç‰¹æ®Šå­—ç¬¦æ¯”ä¾‹ï¼‰</li></ul></li><li><p><strong>ä¿¡æ¯æŠ½å–</strong></p><ul><li>æ™ºèƒ½åˆ†å‰²æ–‡æœ¬ä¸ºè¯­ä¹‰å•å…ƒ</li><li>æ„å»ºå‰æ-ä¸­é—´-ç»“è®ºä¸‰å…ƒç»„</li><li>æå–ç›¸å…³ä¸Šä¸‹æ–‡ä¿¡æ¯</li></ul></li><li><p><strong>é—®ç­”ç”Ÿæˆ</strong></p><ul><li>åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å¤šè·³é—®é¢˜æ„å»º</li><li>è‡ªåŠ¨ç”Ÿæˆæ¨ç†æ­¥éª¤å’Œæ”¯æŒäº‹å®</li><li>è¾“å‡ºç»“æ„åŒ–QAå¯¹ï¼ˆJSONæ ¼å¼ï¼‰</li></ul></li><li><p><strong>è´¨é‡æ§åˆ¶</strong></p><ul><li>å¤æ‚åº¦è¯„åˆ†ç³»ç»Ÿï¼ˆ0.0-1.0ï¼‰</li><li>è‡ªåŠ¨å»é‡æœºåˆ¶</li><li>é”™è¯¯æ¢å¤ä¸æ—¥å¿—è®°å½•</li></ul></li><li><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">knowledge_cleaning_step4 </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Text2MultiHopQAGenerator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    lang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">en</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    num_q</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">knowledge_cleaning_step4</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # input_key=,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # output_key=,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul>`,55)]))}const k=s(e,[["render",t]]),r=JSON.parse('{"path":"/zh/guide/Knowledgebase_QA_operators/","title":"çŸ¥è¯†åº“æ¸…æ´—å’ŒQAåˆæˆç®—å­","lang":"zh-CN","frontmatter":{"title":"çŸ¥è¯†åº“æ¸…æ´—å’ŒQAåˆæˆç®—å­","createTime":"2025/06/24 11:43:42","permalink":"/zh/guide/Knowledgebase_QA_operators/"},"readingTime":{"minutes":6.51,"words":1952},"git":{"createdTime":1750777722000,"updatedTime":1760089781000,"contributors":[{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"},{"name":"ZhaoyangHan04","username":"ZhaoyangHan04","email":"3319926404@qq.com","commits":13,"avatar":"https://avatars.githubusercontent.com/ZhaoyangHan04?v=4","url":"https://github.com/ZhaoyangHan04"},{"name":"Sunnyhaze","username":"Sunnyhaze","email":"mxch1122@126.com","commits":1,"avatar":"https://avatars.githubusercontent.com/Sunnyhaze?v=4","url":"https://github.com/Sunnyhaze"}]},"filePathRelative":"zh/notes/guide/domain_specific_operators/knowledgebase_QA_operators.md","headers":[]}');export{k as comp,r as data};
